<p-contextMenu [target]="contextScope" [model]="rightClick2" oncontextmenu="return false;"></p-contextMenu>
<div class="container-fluid">
<hr>

    <table class="table table-striped table-bordered table-hover table-sm noselect " id="historyReturnDT">
        <thead>
        </thead>
        <tbody #contextScope>
        </tbody>
    </table>
</div>
  <ng-template #operationModal let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">{{operationModalTitle}}</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form fxLayout="column" [formGroup]="operationForm" autocomplete="off">
            <div class="input-row" fxLayout="row" class='inputForm'>
                <mat-form-field class="inputField" fxFlex>
                    <input matInput placeholder="Amount" formControlName="amount" type="number" min="0" name="nameInput" autofocus>
                    <mat-error> Amount is required and must be less than debit</mat-error>
                </mat-form-field>
            </div>
            <div class="input-row" fxLayout="row" class='inputForm'>
                <mat-form-field class="inputField" fxFlex>
                    <input matInput placeholder="Comment" formControlName="comment" type="text" name="nameInput" >
                </mat-form-field>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button mat-raised-button name="addButton" color="primary" (click)="addNewOperation()" [disabled]="!operationForm.valid">{{operationModalTitle}}</button>
    </div>
</ng-template>
<ng-template #showDetails  let-c="close" let-d="dismiss" class="showTemplate">
    <!-- <p-contextMenu [target]="contextScopeDetails" [model]="rightClick2" oncontextmenu="return false;"></p-contextMenu> -->
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Show Details Facture Retour</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="float:left;">
          {{info_client}}
        </div>
        <div style="float: right;">
          {{info_code_date}}
        </div>
        <br>
        <br>
        <br>
        <hr>
        <div>
        <table class="table table-striped table-bordered table-hover table-sm noselect " id="detailFactureDT">
          <thead>
            <tr><th>ARTICLE</th><th>CRT</th><th>PIECE</th><th>CONFIRMER</th><th>REJETER</th></tr>
          </thead>
          <tbody #contextScopeDetails>
              <tr *ngFor="let order of factureDetails" >
                <td>{{order.item_name}}</td>
                <td>{{order.ord_crt}}</td>
                <td>{{order.ord_piece}}</td>
                <td>
                    <!-- <button mat-raised-button matTooltip=""  (click)="confirmOrder(order.ordID,order.ord_invID,order.ord_crt,order.ord_piece,order.ord_itemID,order.ord_item_isDamaged,order.item_packing_list)" value="Confirmer" color="primary">Confirmer</button> -->
                    <button mat-raised-button matTooltip=""  (click)="confirmOrder(order.ordID,order.ord_invID,order.ord_crt,order.ord_piece,order.ord_itemID,order.ord_item_isDamaged,order.item_packing_list)" value="Confirmer" color="primary">Confirmer</button>

                </td>
                <td>
              <button mat-raised-button matTooltip="" (click)="rejectOrder(order.ordID)" value="Rejeter" color="warn">Rejeter</button>
              <!-- <button mat-raised-button matTooltip="" (click)="rejectOrder(order.ordID)" value="Rejeter" color="warn">Rejeter</button> -->

                </td>
              </tr>
                  <!-- <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px"> -->
                    <!-- <mat-form-field fxFlex class="itemName" style="text-align: center;">
                      <input matInput placeholder="Name" [value]="order.item_name" type="text" name="nameInput" tabIndex="-1"
                        [readonly]="true">
                        <mat-hint>{{order.per_name}}</mat-hint>
                    </mat-form-field> -->
                    <!-- <mat-form-field fxFlex class="itemInputs">
                      <input matInput placeholder="CRT" [value]="order.ord_crt" type="number" min="0" onkeydown="javascript: return event.keyCode == 69 ? false : true" [readonly]="true">
                    </mat-form-field>
                    <mat-form-field fxFlex class="itemInputs">
                      <input matInput placeholder="Piece" [value]="order.ord_piece" type="number" min="0" onkeydown="javascript: return event.keyCode == 69 ? false : true" [readonly]="true">
                    </mat-form-field> -->
                        <!-- <button mat-raised-button matTooltip=""  (click)="confirmOrder(order.ordID,order.ord_invID,order.ord_crt,order.ord_piece,order.ord_itemID,order.ord_item_isDamaged,order.item_packing_list)" value="Confirmer" color="primary">Confirmer</button> -->
          
                        <!-- <button mat-raised-button matTooltip="" (click)="rejectOrder(order.ordID)" value="Rejeter" color="warn">Rejeter</button> -->
          
                  <!-- </div>
                </div> -->
          </tbody>
        </table>
        </div>
      </div>
      <div class="modal-footer">
        
      </div>
    </ng-template>
  <div hidden>
    <button id="showDetailsBtn" (click)="openShowDetails()"></button>
    <button id="deletedBtn" (click)="deleteFacture()"></button>
    <button id="editBtn" (click)="editFacture(showDetails)"></button>
  </div>